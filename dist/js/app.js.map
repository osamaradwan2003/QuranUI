{"version":3,"names":[],"mappings":"","sources":["app.js"],"sourcesContent":["/*jshint esversion: 6 */\r\n\r\nui(function () {\r\n  //toggle placeholder attr\r\n\r\n  ui(\"[placeholder]\")\r\n    .on(\"focus\", function () {\r\n\r\n      let ele = ui(this),\r\n        label = ele.siblings(\".inp_lab\");\r\n      label.css({\r\n        top: \"-8px\",\r\n        right: \"2%\",\r\n      });\r\n    })\r\n    .on(\"blur\", function () {\r\n      if (ui(this).val().trim() == \"\") {\r\n        ui(this).siblings(\".inp_lab\")[0].style.removeProperty(\"top\");\r\n        ui(this).siblings(\".inp_lab\")[0].style.removeProperty(\"right\");\r\n      }\r\n    });\r\n\r\n  ui(\".close_pop_up\").on(\r\n    \"click\",\r\n    function () {\r\n      let ele = ui(this),\r\n        target = ele.parents(\".pop_up\");\r\n      target.removeClass(\"open_pop\").addClass(\"close_pop\");\r\n      ui(\"body\").css(\"overflow\", \"auto\");\r\n    },\r\n    true\r\n  );\r\n\r\n  ui(\"[data-o-pop]\").on(\"click\", function () {\r\n    let ele = ui(this),\r\n      target = ui(\"#\" + ele.attr(\"data-o-pop\"));\r\n    target.removeClass(\"close_pop\").addClass(\"open_pop\");\r\n    ui(\"body\").css(\"overflow\", \"hidden\");\r\n  }, true);\r\n\r\n  ui(\"[data-o-p-f-p]\").on(\"click\", function (e) {\r\n    e.stopPropagation();\r\n    let ele = ui(this),\r\n      target = ui(\"#\" + ele.attr(\"data-o-p-f-p\"));\r\n    ele.parents(\".pop_up\").removeClass(\"open_pop\").addClass(\"close_pop\").delay(10);\r\n    target.addClass(\"open_pop\").removeClass(\"close_pop\");\r\n    ui(\"body\").css(\"overflow\", \"hidden\");\r\n  }, true, true);\r\n\r\n  //close popup in press esc\r\n  ui(\"body, html:not(.pop_up)\").on(\"keydown\", function (e) {\r\n    e.stopPropagation();\r\n    if (e.keyCode == 27) ui(\".pop_up\").removeClass(\"open_pop\").addClass(\"close_pop\");\r\n\r\n  }, undefined, true);\r\n\r\n  //funtion to make select option from nums or array\r\n\r\n  /**\r\n   * \r\n   * @param {Element | string} ele \r\n   * @param {number} start \r\n   * @param {number} end \r\n   * @param {Array} arr \r\n   */\r\n  function make_option_nums(ele, start, end, selectedVal, arr, pos) {\r\n    ele = ui(ele);\r\n    selectedVal = selectedVal || \"\";\r\n    pos = pos || \"beforeend\";\r\n    if (arr && Array.isArray(arr)) {\r\n      for (let i = 0; i < arr.length; i++) {\r\n        if (arr[i] == selectedVal) {\r\n          ele.html(\"<option selected value=\" + arr[i] + \">\" + arr[i] + \"</option>\", pos);\r\n        } else {\r\n          ele.html(\"<option value=\" + arr[i] + \">\" + arr[i] + \"</option>\", pos);\r\n        }\r\n      }\r\n    } else {\r\n      for (let i = start; i <= end; i++) {\r\n        if (i == selectedVal) {\r\n          ele.html(\"<option selected value=\" + i + \">\" + i + \"</option>\", pos);\r\n        } else {\r\n          ele.html(\"<option value=\" + i + \">\" + i + \"</option>\", pos);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  make_option_nums(\"#crslyear\", 1920, new Date().getFullYear(), 2003, undefined, \"afterbegin\");\r\n  make_option_nums(\"#crslday\", 1, 31, 4, undefined,\r\n    \"beforeend\");\r\n  let months = [\"يناير\", \"فبراير\", \"مارس\", \"إبريل\", \"مايو\", \"يونيو\", \"يوليه\", \"أغسطس\", \"سبتمبر\", \"أكتوبر\", \"نوفمبر\", \"ديسمبر\"];\r\n\r\n  make_option_nums(\"#crslmonth\", undefined, undefined, \"مايو\", months, \"beforeend\");\r\n\r\n\r\n  //from validator\r\n  /**\r\n   * \r\n   * @param {object} obj \r\n   */\r\n  function make_validator(obj, cbc, ecbc) {\r\n    let ele = ui(obj.ele) || \"\",\r\n      message = obj.message,\r\n      exp = new RegExp(obj.exp),\r\n      func_exp = obj.makeExp,\r\n      showMessageEle = ui(obj.showMessageEle),\r\n      emptyInpMessage = obj.emptyMessage,\r\n      success_func = obj.succsess,\r\n      borderClor = ele.css(\"border-color\");\r\n    if (func_exp && isFunc(func_exp)) {\r\n      func_exp.call(ele, obj, borderClor);\r\n      if (cbc) ele.css(\"border-color\", ecbc);\r\n      return;\r\n    }\r\n    if (ele.val().trim() == \"\") {\r\n      showMessageEle.html(emptyInpMessage).show(500);\r\n      ele.attr(\"data-valid\", \"false\");\r\n      if (cbc) ele.css(\"border-color\", ecbc);\r\n    } else if (!exp.test(ele.val())) {\r\n      if (cbc) ele.css(\"border-color\", ecbc);\r\n      ele.attr(\"data-valid\", \"false\");\r\n      showMessageEle.html(message).show(500);\r\n    } else {\r\n      if (success_func && isFunc(success_func)) {\r\n        ele.attr(\"data-valid\", \"true\");\r\n        if (cbc) ele.css(\"border-color\", borderClor);\r\n        success_func.call(ele, obj, borderClor);\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  function insert_valid(e) {\r\n    let inp = ui(this);\r\n\r\n    if (inp.attr(\"name\") == \"crfname\") {\r\n      make_validator({\r\n        ele: inp,\r\n        showMessageEle: inp.siblings(\".err_tip\"),\r\n        exp: /(\\w).{2,}/gm,\r\n        message: \"يجب أن يكون الاسم الأول مابين 3 الى 16 حرف\",\r\n        emptyMessage: \"من فضلك ادخل الاسم الاول\",\r\n        succsess: function (obj) {\r\n          obj.showMessageEle.hide(500);\r\n          valid = true;\r\n        },\r\n      }, false, \"#ee4238\");\r\n    } else if (inp.attr(\"name\") == \"crlsname\") {\r\n      make_validator({\r\n        ele: inp,\r\n        showMessageEle: inp.siblings(\".err_tip\"),\r\n        emptyMessage: \"من فضلك ادخل اسم العائلة\",\r\n        exp: /(\\w).{2,}/gm,\r\n        message: \"يجب أن يكون إسم العائلة مابين 3 الى 32 حرف\",\r\n        succsess: function (obj, e, brc) {\r\n          valid = true;\r\n          obj.showMessageEle.hide(500);\r\n        },\r\n      }, false, \"#ee4238\");\r\n    } else if (inp.attr(\"type\") == \"email\") {\r\n      make_validator({\r\n        ele: inp,\r\n        showMessageEle: inp.siblings(\".err_tip\"),\r\n        exp: /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\r\n        emptyMessage: \"أدخل البريد الإلكتروني\",\r\n        message: \"هذا البريد غير صحيح\",\r\n        succsess: function (obj) {\r\n          valid = true;\r\n          obj.showMessageEle.hide(500);\r\n        },\r\n      }, false, \"#ee4238\");\r\n    } else if (inp.attr(\"type\") == \"password\") {\r\n      make_validator({\r\n        ele: inp,\r\n        showMessageEle: inp.siblings(\".err_tip\"),\r\n        emptyMessage: \"أدخل كلمة المرور\",\r\n        exp: /(\\w).{7,}/gm,\r\n        message: \"يجب ان تكون كلمة السر اكبر من 8 احرف\",\r\n        succsess: function (obj) {\r\n          valid = true;\r\n          obj.showMessageEle.hide(500);\r\n        },\r\n      }, false, \"#ee4238\");\r\n    }\r\n  }\r\n\r\n  ui(\"input[type='checkbox']\").on(\"click\", function () {\r\n    if (ui(this).attr(\"name\") == \"polccr\") {\r\n      if (this.checked != true) {\r\n        let c = ui(this);\r\n        c.attr(\"data-valid\", \"false\");\r\n        c.siblings(\".err_tip\").html(\"يجب الموافقة على سياسة الخصوصية\").show(500);\r\n      } else {\r\n        let c = ui(this);\r\n        c.siblings(\".err_tip\").hide(400);\r\n        c.attr(\"data-valid\", \"true\");\r\n      }\r\n    }\r\n  });\r\n\r\n  ui(\"input\").on(\"input blur\", insert_valid);\r\n\r\n  ui(\"form\").on(\"submit\", function (e) {\r\n    e.preventDefault();\r\n    let valid = [];\r\n    ui(this).children(\"input\").each(function (e) {\r\n      insert_valid.apply(this);\r\n      if (ui(this).attr(\"name\") == \"polccr\") {\r\n        if (this.checked != true) {\r\n          let c = ui(this);\r\n          c.attr(\"data-valid\", \"false\");\r\n          c.siblings(\".err_tip\").html(\"يجب الموافقة على سياسة الخصوصية\").show(500);\r\n        } else {\r\n          let c = ui(this);\r\n          c.siblings(\".err_tip\").hide(400);\r\n          c.attr(\"data-valid\", \"true\");\r\n        }\r\n      }\r\n      valid.push(ui(this).attr(\"data-valid\"));\r\n    });\r\n    if (valid.indexOf(\"false\") == -1) {\r\n      this.submit();\r\n    }\r\n  });\r\n\r\n});"],"file":"app.js"}